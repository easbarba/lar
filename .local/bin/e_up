#!/usr/bin/env bash

# DEBUG OPTIONS
set -euo pipefail

DEPS=(grep cut tr distro floss cejo emacs guix)
e_checkdeps "${DEPS[@]}"

DISTRO=$(grep '^NAME=' /etc/os-release | cut -f2 -d"=" | tr -d '"')

e_echo "Daily update of system packagers."

e_echo "Upgrading system."
distro update
distro upgrade

e_guix

e_echo "FLOSS projects"
floss grab
floss archive
cp -rpv $HOME/Downloads/archived/* /media/easbarbosa/MACHO/dots

e_echo "Building Nightly Emacs"
[[ $DISTRO != "Arch Linux" ]] && cejo project emacs

e_doom

e_echo "LANGS"

e_ruby
e_js
