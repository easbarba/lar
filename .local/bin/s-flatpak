#!/usr/bin/env bash

_repo() {
    [[ ! $(flatpak remotes | grep flathub) ]] &&
        flatpak remote-add --if-not-exists flathub https://flathub.org/repo/flathub.flatpakrepo
}

_user() {
    local packages=(com.wps.Office)

    local command="flatpak install flathub -y"
    s-dolist "$command" "${packages[@]}"

    local command="flatpak update -y"
    s-dolist "$command" "${packages[@]}"
}

_devel() {
    local packages=(com.discordapp.Discord com.microsoft.Teams com.slack.Slack
        us.zoom.Zoom com.skype.Client)

    local command="flatpak install flathub -y"
    s-dolist "$command" "${packages[@]}"

    local command="flatpak update -y"
    s-dolist "$command" "${packages[@]}"
}

# * RUN

_repo
_user
_devel
