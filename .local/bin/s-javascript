#!/usr/bin/env bash

# Debug Options
set -euo pipefail

deps=(npm)
s-checkdeps "${deps[@]}"

# =======================================

s-echo "Base - Installing fundamental packages"

packages=(npm)

command="npm install --global"
s-dolist "$command" "${packages[@]}"

command="npm update --global"
s-dolist "$command" "${packages[@]}"

s-echo "Javascript Toolings packages"
packages=(js-beautify fx stylelint stylelint-config-standard)

command="npm install --global"
s-dolist "$command" "${packages[@]}"

command="npm update --global"
s-dolist "$command" "${packages[@]}"

# =======================================

s-echo "TypeScript packages"

packages=(typescript typescript-language-server)

command="npm install --global"
s-dolist "$command" "${packages[@]}"

command="npm update --global"
s-dolist "$command" "${packages[@]}"

# =======================================

s-echo "LSP Servers packages"

packages=(bash-language-server yaml-language-server
	vscode-json-languageserver typescript-language-server
	vscode-html-languageserver-bin vscode-css-languageserver-bin)

command="npm install --global"
s-dolist "$command" "${packages[@]}"

command="npm update --global"
s-dolist "$command" "${packages[@]}"

# =======================================

s-echo "Programming Languages toolings"

packages=(lua-fmt)

command="npm install --global"
s-dolist "$command" "${packages[@]}"

command="npm update --global"
s-dolist "$command" "${packages[@]}"
