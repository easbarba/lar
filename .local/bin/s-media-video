#!/usr/bin/env bash

# Debug Options
set -euo pipefail

# Description: Get video

DEPS=(yt-dlp ffmpeg)
s-checkdeps "${DEPS[@]}"

FOLDER="$HOME/Videos"

# FOLDER
[[ ! -d $FOLDER ]] && mkdir "$FOLDER"
cd "$FOLDER"

# YT-DLP

GETTER='yt-dlp'
EXT='mp4'
# QUALITY='bestvideo+bestaudio'
FORMAT="--format $EXT"
OUTPUT='%(title)s.f%(format_id)s.%(ext)s'

# RUN
"$GETTER" --format "$EXT" --output "$OUTPUT" "$(s-url)"
