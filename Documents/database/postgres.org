#+TILE: PostgreSQL - Study annotations

* toc
  :PROPERTIES:
  :TOC:      :include all :depth 2 :ignore this
  :END:
:CONTENTS:
- [[#progress][Progress]]
- [[#official][Official]]
- [[#documentation][Documentation]]
- [[#terms][Terms]]
- [[#features][Features]]
  - [[#pg_ctl][pg_ctl]]
  - [[#psql][psql]]
  - [[#psql-prompt][psql prompt]]
  - [[#pstree][pstree]]
  - [[#initdb][initdb]]
  - [[#createdb][createdb]]
  - [[#tablespace][tablespace]]
  - [[#users--groups][users & groups]]
- [[#utils][Utils]]
:END:
* Progress
| book                   | chapter | @                             | revision |
|------------------------+---------+-------------------------------+----------|
| Learn PostgreSQL 12/13 |         | Order of rules in pg_hba.conf |          |

* Official
https://www.postgresql.org/
* Documentation
https://www.postgresql.org/docs/

* Terms
|   |   |
|---+---|
|   |   |

   - ACID: atomicity, consistency, isolation, and durability
   - DMBS: Database Management System
   - PID: Process Identifier
   - TableSpace: tablespace is a storage space that can be outside the PGDATA directory.
   - PGDATA
* Features
** pg_ctl
    |                          |                                                             |
    |--------------------------+-------------------------------------------------------------|
    | start, stop, and restart | execute the corresponding actions on the cluster            |
    | status                   | reports the current status (running or not) of the cluster. |
    | initdb                   | executes the initialization of the cluster, possibly        |
    | reload                   | causes the PostgreSQL server to reload the configuration    |
    | promote                  |                                                             |
    |                          |                                                             |
** psql
a command-line client that allows you to interact with, connect, and administer
databases and the cluster itself.

    |    |                                                         |
    |----+---------------------------------------------------------|
    | -l |                                                         |
    | -d | The database name                                       |
    | -U | The username                                            |
    | -h | The host (either an IPv4 or IPv6 address or a hostname) |
    |    |                                                         |
** psql prompt
    |                                          |                |
    |------------------------------------------+----------------|
    | \i <file>                                | load file      |
    | <statement> \g                           | same as ;      |
    | \e <file> or \e <statement>              | open in editor |
    | \h <command>                             | command doc    |
    | \?                                       |                |
    | \d                                       |                |
    | postgresql://username@host:port/database |                |
** pstree
    - checkpointer
    - background writer
    - walwriter
    - stats collector
    - logical replication launcher
** initdb
** createdb
** tablespace
pg_tblspc
pg_default
pg_global
** users & groups
*** role
- A role can be a single account, a group of accounts, or even both depending on how you configure it
- it should be either a single user or a single group, but not both.
- have a unique name or identifier, usually called the username.
- represents a collection of database permissions and connection properties.
**** Statements
|             |                             |
|-------------+-----------------------------|
| CREATE ROLE | create a role from scratch  |
| ALTER ROLE  | change some role properties |
| DROP ROLE   | remove an existing role     |



* Utils
- postmaster: prints out a few log lines before redirecting the logs to the appropriate log file
- oid2name
