#+TITLE: Network

* Progress
|                                |                 |                                  |
|--------------------------------+-----------------+----------------------------------|
| Comptia Network+ - Mike Meyers | 6 TCP/IP Basics |                                  |
| Computer Networks - Stebaun    | Introduction    | 1.3.4 Metropolitan Area Networks |

* Load balancing
* Subneting
* OSI Model
** Concepts
- 7 layers
- works for almost every type of network, even extremely old and long-obsolete ones
** Layers
*** Layer 7 Application
*** Layer 6 Presentation
*** Layer 5 Session
*** Layer 4 Transport
*** Layer 3 Network
*** Layer 2 Data Link
- Data Link layer
- Switches handle traffic using MAC addresses
- NIC is in the Data Link layer and the Physical layer
*** Layer 1 Physical
- defines the method of moving data between computers
- cabling and central box are part of the Physical layer
- doesn’t care what data goes through
- it just moves the data from one system to another system
- NIC interface between the PC and the network
* TCP/IP
** Layers
*** Internet
**** Internet Protocol (IP)
***** IPV4
This type of address—four values ranging from 0 to 255, separated by three
periods: 192.168.1.115
***** IPV6
2001:0:4137:9e76:43e:2599:3f57:fe9a

***** ICMP
***** 14 Fields
- Version
- Length
- Protocol
- Time to live
- Differentiated services code point (DSCP)
*** Transport
**** Transport Layer Protocols (TCP)
- connection-oriented protocol
**** User Datagram Protocol (UDP)
- connectionless protocol
- voip

*** Application
* IP
- 32 bits integers converted to decimal: 11000000.10101000.00000100.00000010 -> 192.168.1.1
- MAC and IP address must be unique on a network
** EXAM TIP
you should memorize that 0 = 00000000 and 255 = 11111111.
* Protocols
** DHCP
- uses UDP

** DNS
- uses UDP
** HTTP
** HTTPS
** FTP
** SSL/TLS
** SSH
*** OpenSSH
    - ControlPersist
    - ssh-copy-id
* LAN
- IP address
- Ethernet MAC Adress
* Physical
** Cable
*** UTP
- unshielded twisted pair
- contains four pairs of wires
*** central box
* Terms
  - hotspot
  - VOIP
  - IPTV
  - RFID
  - 2 family (p2p)
  - desktop sharing
** Mac Adress
** OSI layers
** TCP/IP
** NIC
** FCS
** PANs
Personal Area Networks let devices communicate over the range of a person.

- Bluetooth
** LAN
A Local Area Network is a private network that operates within and nearby
a single building such as a home, office, or factory.

- Access Point: AP
- IEEE 802.11: WIFI
- IEEE 802.3: Ethernet
- switch
- VLAN
** MAN
Metropolitan Area Networks
** Subnet Mask
A subnet mask is a number that distinguishes the network address and the host
address within an IP address.

11111111111111111111111100000000
** Mac adress
- uses Address Resolution Protocol to figure out the MAC address based on the destination IP address

* Software
** ssh
*** --
end of command line flags

It tells ssh or any other valid shell command not to try to parse what comes after command line options

#+begin_src shell

ssh nixcraft@server1.cyberciti.biz -- command1 --arg1 --arg2

#+end_src

 This ensures that command1 will accept --arg1 and --arg2 (or -opt1) as command-line arguments.
** ping
#+begin_src shell
ping 1.1
#+end_src
** ss
** dig
** ip
** ifconfig
configure a network interface
** whois
** host
** dig
** iwd
  #+begin_src shell

  ip a
  iw dev
  ip link set wlp2s0 up

  iwlist scan
  #+end_src

add to /etc/network/interfaces (man interfaces) *Debian-only*

  #+begin_src shell
  iface wlp2s0 inet dhcp
        wpa-ssid ESSID
        wpa-psk PASSWORD
  #+end_src

Bring up your interface and verify the connection:

  #+begin_src shell
  ifup wlp2s0
  iw wlp2s0 link
  ip a
  #+end_src
** dhcpd
** iw
** wpa_supplicant
** curl
curl - transfer a URL

|         |   |
|---------+---|
| -v <ip> |   |
| -<N>    |   |

*** read local file
#+begin_src shell-script
curl file:///home/user/.bashrc
#+end_src

** nmap
** nmcli
|                               |                                                                |
|-------------------------------+----------------------------------------------------------------|
| radio wifi on                 | Enable Your Wi-Fi Device                                       |
| dev status                    | Status                                                         |
| dev wifi list                 | Lisit available SSID                                           |
| dev wifi connect <SSID>       | connect to SSID                                                |
| --ask dev wifi connect <SSID> | password is provided in a manager to avoid dirty shell history |
| con show                      | list saved connections                                         |
| con down <SSID>               | disconnect of SSID                                             |
| con up <SSID>                 | reconnect to SSID                                              |
|                               |                                                                |

network manager wont work if /etc/network/interface is set to any device, remove it and procced again
** nslookup
** route
** netstat
|        |   |
|--------+---|
| -natp  |   |
| -tulpn |   |
** telnet
** rlogin
** traceroute
** ethtool
** netcat
** socat
** tcpdump
*** HTTP GET
tcpdump -i any -s 0 -A 'tcp[((tcp[12:1] & 0xf0) >> 2):4] = 0x47455420'
*** HTTP POST:
tcpdump -i any -s 0 -A 'tcp[((tcp[12:1] & 0xf0) >> 2):4] = 0x504F5354'
** wireshark
** ngrep
** iftop
** nethogs
