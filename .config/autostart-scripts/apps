#!/usr/bin/env bash

# DESCRIPTION: AutoStart software

APPS=(udiskie unclutter ibus-daemon nm-applet
      blueman-applet mate-power-manager diodon)

not-found() { [[ ! -x $(command -v "$1") ]]; }

running() { [[ $(pgrep -f "$1") ]]; }

run() { "$@" & }

autostart()
{
    for app in "${APPS[@]}"
    do
	not-found "$app" && continue
	running "$app" && continue
	run "$app"
    done
}

[ "$DESKTOP_SESSION" == "plasma" ] && exit
[ "$DESKTOP_SESSION" == "gnome" ] && exit

autostart
