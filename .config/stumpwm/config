;; -*- lisp -*-

(in-package :stumpwm)

(defparameter *home*
  (directory-namestring (user-homedir-pathname))
  "Home Folder.")

(defparameter *xdg-config-home-*
  (directory-namestring
   (truename (merge-pathnames *home* ".config")))
  "XDG CONFIG HOME.")

(defparameter *config-home*
  (directory-namestring
   (truename (merge-pathnames *xdg-config-home-* "stumpwm")))
  "StumpWM configuration directory.")

;; load all settings files.
(let ((initial-files (list
                         "settings-variables"
                         "settings-misc"
                         "settings-modeline"
                         "settings-workspaces"
                         "settings-keybinds"
                         "lisp-libraries"
                         "custom-functions"
                         "system-folders-variables"
                         "system-variables"
                         "system-keybinds"
                         "stumpwm-modules-contrib"
                         "system-autostart")))
  (dolist (filename initial-files)
     (let ((file (merge-pathnames (concat filename ".lisp") *config-home*)))
       (if (probe-file file)
           (load file)
           (format *error-output* "File '~a' doesn't exist." file)))))
