#!/usr/bin/env bash

# set -e

asdf_ruby()
{
    echo 'Installing ruby binaries'

    # https://github.com/asdf_vm/asdf_ruby

    asdf plugin-add ruby https://github.com/asdf-vm/asdf-ruby.git

    asdf install ruby latest

    asdf global ruby "$(asdf latest ruby)"
}

# * PACKAGES

ruby()
{
    echo 'Installing gem packages'

    local packages=(bundler solargraph rubocop pry reek clipboard rspec)

    for pack in "${packages[@]}"
    do
	gem install "${pack}" # --user-install
	gem update  "${pack}"
    done
}

# * RUN

asdf_ruby
ruby
