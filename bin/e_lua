#!/usr/bin/env bash

# set -e

source "$HOME/.asdf/completions/asdf.bash"
source "$HOME/.asdf/asdf.sh"

asdf_lua()
{
    [[ -f "$HOME/.asdf/shims/lua" ]] && return

    echo 'Installing Lua binaries'

    asdf plugin-add lua https://github.com/Stratus3D/asdf-lua

    asdf install lua latest

    asdf global lua "$(asdf latest lua)"
}

packages()
{
    echo 'Installing  packages'

    local packages=()

    for pack in "${packages[@]}"
    do
    	 install "${pack}" # --user-install
	 update  "${pack}"
    done
}

# * RUN

echo 'Lua - ASDF'

asdf_lua
packages
