#!/usr/bin/env bash

# Debug Options
set -euo pipefailxo pipefail

# Sourcing
source "$HOME/.asdf/completions/asdf.bash"
source "$HOME/.asdf/asdf.sh"

# * Begin

install()
{
    # https://github.com/asdf_vm/asdf_ruby

    [[ -f "$HOME/.asdf/shims/psql" ]] && return

    echo 'Installing Postgresql binaries'

    # add plugin repo
    asdf plugin-add postgres

    # install versions
    asdf install postgres latest

    # global
    asdf global postgres "$(asdf latest postgres)"
}


# * RUN

echo 'ASDF - PostgreSQL'

install
